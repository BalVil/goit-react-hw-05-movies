{"version":3,"file":"static/js/30.879da3b0.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/BackButton/BackButton.module.css?d3a5","components/BackButton/BackButton.jsx","webpack://react-homework-template/./src/components/MovieContent/MovieContent.module.css?89a5","components/MovieContent/MovieContent.jsx","webpack://react-homework-template/./src/components/Additional/Additional.module.css?e277","components/Additional/Additional.jsx","pages/MovieDetails.jsx","services/themoviedb-api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"link\":\"BackButton_link__rwyG0\",\"svg\":\"BackButton_svg__VsCPS\"};","import { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { IoMdArrowRoundBack } from 'react-icons/io';\nimport styles from './BackButton.module.css';\n\nconst BackButton = ({ backLink }) => {\n  return (\n    <>\n      <Link to={backLink} className={styles.link}>\n        <IoMdArrowRoundBack className={styles.svg} size={16} />\n        Go back\n      </Link>\n    </>\n  );\n};\n\nexport default BackButton;\n\nBackButton.propTypes = {\n  backLink: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n    search: PropTypes.string.isRequired,\n    key: PropTypes.string.isRequired,\n    hash: PropTypes.string,\n    state: PropTypes.bool,\n  }).isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"wrap\":\"MovieContent_wrap__vCSQ4\",\"poster\":\"MovieContent_poster__PuNAL\",\"desc\":\"MovieContent_desc__CiVyn\",\"desc__item\":\"MovieContent_desc__item__81Swk\",\"desc__title\":\"MovieContent_desc__title__4tyJR\"};","import PropTypes from 'prop-types';\nimport styles from './MovieContent.module.css';\n\nconst MovieContent = ({ movie }) => {\n  const {\n    title,\n    name,\n    overview,\n    genres,\n    release_date,\n    first_air_date,\n    poster_path,\n    vote_average,\n  } = movie;\n\n  const userScore = Math.round(vote_average * 10);\n\n  const noImage =\n    'https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg';\n\n  const imageUrl = poster_path\n    ? `https://image.tmdb.org/t/p/w500${poster_path}`\n    : noImage;\n\n  const releaseDate = (first_air_date || release_date).slice(0, 4);\n\n  function getGenre(genres) {\n    const genreNames = genres.map(({ name }) => name);\n\n    return genreNames.join(', ') || 'No Genre';\n  }\n\n  return (\n    <>\n      <div className={styles.wrap}>\n        <div className={styles.poster}>\n          <img\n            data-action=\"poster\"\n            alt={title || name}\n            src={imageUrl}\n            width=\"240\"\n          />\n        </div>\n        <div className={styles.desc}>\n          <div className={styles.desc__item}>\n            <h2 className={styles.desc__title}>\n              {title || name} ({releaseDate})\n            </h2>\n            <p>User Score: {userScore}%</p>\n          </div>\n\n          <div className={styles.desc__item}>\n            <h3 className={styles.desc__title}>Overview</h3>\n            <p>{overview}</p>\n          </div>\n\n          <div className={styles.desc__item}></div>\n          <h4 className={styles.desc__title}>Genres</h4>\n          <p>{getGenre(genres)}</p>\n        </div>\n      </div>\n    </>\n  );\n};\nexport default MovieContent;\n\nMovieContent.propTypes = {\n  movie: PropTypes.shape({\n    title: PropTypes.string,\n    name: PropTypes.string,\n    overview: PropTypes.string.isRequired,\n    genres: PropTypes.arrayOf(\n      PropTypes.shape({ name: PropTypes.string.isRequired })\n    ),\n    release_date: PropTypes.string.isRequired,\n    first_air_date: PropTypes.string,\n    poster_path: PropTypes.string,\n    vote_average: PropTypes.number.isRequired,\n  }).isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"wrap\":\"Additional_wrap__IGH-8\",\"heading\":\"Additional_heading__QpEp2\",\"list\":\"Additional_list__rTj+p\",\"item\":\"Additional_item__HS-ND\",\"link\":\"Additional_link__nJqCk\"};","import { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styles from './Additional.module.css';\n\nexport const Additional = ({ options, location, title }) => {\n  return (\n    <div className={styles.wrap}>\n      <h3 className={styles.heading}>{title}</h3>\n      <ul className={styles.list}>\n        {options.map(option => (\n          <li className={styles.item} key={option}>\n            <Link\n              className={styles.link}\n              to={option}\n              state={{ from: location }}\n            >\n              {option}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\nexport default Additional;\n\nAdditional.propTypes = {\n  options: PropTypes.arrayOf(PropTypes.string).isRequired,\n  location: PropTypes.object.isRequired,\n  title: PropTypes.string.isRequired,\n};\n","import { useState, useEffect, Suspense } from 'react';\nimport { useParams, Outlet, useLocation } from 'react-router-dom';\nimport { fetchMovieDetails } from '../services/themoviedb-api';\nimport BackButton from 'components/BackButton/BackButton';\nimport MovieContent from 'components/MovieContent/MovieContent';\nimport Additional from 'components/Additional/Additional';\nimport styles from 'components/SharedLayout/SharedLayout.module.css';\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState(null);\n  const { movieId } = useParams();\n\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/';\n\n  useEffect(() => {\n    fetchMovieDetails(movieId)\n      .then(data => {\n        setMovie(data);\n      })\n      .catch(console.log);\n  }, [movieId]);\n\n  const linkText = ['cast', 'reviews'];\n\n  return (\n    <div className={styles.container}>\n      {movie && (\n        <>\n          <BackButton backLink={backLinkHref} />\n\n          <MovieContent movie={movie} />\n\n          <Additional\n            options={linkText}\n            location={backLinkHref}\n            title=\"Additional information\"\n          />\n\n          <Suspense fallback={<h3>Loading...</h3>}>\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n    </div>\n  );\n};\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'api_key=5f364d2fc6b25c805674b50a1c63d59e';\n\nexport const fetchTrending = async () => {\n  const response = await axios.get(`${BASE_URL}/trending/movie/day?${API_KEY}`);\n  return response.data.results;\n};\n\nexport const fetchSearchMovies = async query => {\n  const response = await axios.get(\n    `${BASE_URL}/search/movie?${API_KEY}&query=${query}&language=en-US`\n  );\n  return response.data;\n};\n\nexport const fetchMovieDetails = async id => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${id}?${API_KEY}&language=en-US`\n  );\n  return response.data;\n};\n\nexport const fetchMovieCast = async id => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${id}/credits?${API_KEY}&language=en-US`\n  );\n  return response.data.cast;\n};\n\nexport const fetchMovieReviews = async id => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${id}/reviews?${API_KEY}&language=en-US`\n  );\n  return response.data.results;\n};\n"],"names":["backLink","to","className","styles","size","movie","title","name","overview","genres","release_date","first_air_date","poster_path","vote_average","userScore","Math","round","imageUrl","releaseDate","slice","alt","src","width","map","join","getGenre","options","location","option","state","from","useState","setMovie","movieId","useParams","backLinkHref","useLocation","useEffect","fetchMovieDetails","then","data","catch","console","log","Suspense","fallback","BASE_URL","API_KEY","fetchTrending","axios","response","results","fetchSearchMovies","query","id","fetchMovieCast","cast","fetchMovieReviews"],"sourceRoot":""}